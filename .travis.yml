language: java
jdk:
- openjdk8
branches:
  except:
  - travis
notifications:
  irc:
    channels:
    - chat.freenode.net#craftercms
    use_notice: true
    skip_join: true
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
before_install: git clone -b travis `git config --get remote.origin.url` target/travis
script:
- if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then bash -c  "mvn -q -Dmaven.javadoc.skip=true
  clean deploy --settings target/travis/settings.xml";  fi
- if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then bash -c "mvn -q -Dmaven.javadoc.skip=true
  clean install" ;fi
env:
  global:
  - secure: BoAJM5+JW/lWwWxFA2GazSPIKaRvEAodTv45BhIQ+8zeOz1bcoN5H/ENzu3qSelnGhfqs/HFzl9K9+FXUpFZSnHahdUoOQwUoLQ/z8+9tTCry1D5YhBpNElJhVldXlnukkufRAHaPr28HQxaRmKANuJvrmIuM+4mR/+ntEFVAnU=
  - secure: Ir9NNthe3TpKxjs/6LCow+NZVkdCmWK0sWD9Ar12Rgrlj+IFg/F+BsYQIshPj9sdU80i7AC71emJWLoC9GRpX9OVAkq/xlpmPxJVaOpCrL1zlBwXbQS1fW9/XDYINFXhZdOsj+0DzPadojeVejpmUUAvz9PlF/rDp+FW/O6uypI=
