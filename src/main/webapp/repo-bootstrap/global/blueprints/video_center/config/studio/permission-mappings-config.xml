<?xml version="1.0" encoding="UTF-8"?>
<!-- permission-mappings-config.xml

  This files contains the permissions mappings for the roles defined in
  role-mappings-config.xml.

  Permissions are defined per:
  site > role > rule

  Rules have a regex expression that govern the scope of the permissions assigned.

  Permissions are:
  - Read
  - Write
  - Create Content
  - Create Folder
  - Create Content Type
  - Publish

  Absence of permissions means the permission is denied.

  For example, to grant the role component_author the ability to read/write
  components and read-only to everything else:

      <role name="author">
          <rule regex="/site/website/.*">
            <allowed-permissions>
              <permission>Read</permission>
            </allowed-permissions>
          </rule>
          <rule regex="/site/components/.*">
            <allowed-permissions>
              <permission>Read</permission>
              <permission>Write</permission>
              <permission>Create Content</permission>
              <permission>Create Folder</permission>
            </allowed-permissions>
          </rule>
          <rule regex="/static-assets/.*">
            <allowed-permissions>
              <permission>Read</permission>
            </allowed-permissions>
          </rule>
      </role>

  A regex of "~DASHBOARD~" governs view access to the publishing workflow
  related dashboard widgets:
  - Items Waiting For Approval
  - Approved Scheduled Items
  - Recently Published

  To grant a role the ability to view these dashboard widgets, simple grant
  the role the permission Publish to the scope ~DASHBOARD~. For example:

      <rule regex="~DASHBOARD~">
        <allowed-permissions>
          <permission>Publish</permission>
        </allowed-permissions>
      </rule>

-->
<permissions>
    <role name="author">
        <rule regex="/site/website/.*">
            <allowed-permissions>
                <permission>Read</permission>
                <permission>Write</permission>
                <permission>Create Content</permission>
                <permission>Create Folder</permission>
            </allowed-permissions>
        </rule>
        <rule regex="/site/components|/site/components/.*">
            <allowed-permissions>
                <permission>Read</permission>
                <permission>Write</permission>
                <permission>Create Content</permission>
                <permission>Create Folder</permission>
            </allowed-permissions>
        </rule>
        <rule regex="/static-assets|/static-assets/.*">
            <allowed-permissions>
                <permission>Read</permission>
                <permission>Write</permission>
                <permission>Create Content</permission>
                <permission>Create Folder</permission>
            </allowed-permissions>
        </rule>
    </role>
    <role name="publisher">
        <rule regex="/site/.*">
            <allowed-permissions>
                <permission>Read</permission>
                <permission>Write</permission>
                <permission>Create Content</permission>
                <permission>Create Folder</permission>
                <permission>Publish</permission>
            </allowed-permissions>
        </rule>
        <rule regex="^/site/(?!website/index\.xml)(.*)">
            <allowed-permissions>
                <permission>Delete</permission>
            </allowed-permissions>
        </rule>
        <rule regex="/(static-assets|templates|scripts)/.*">
            <allowed-permissions>
                <permission>Read</permission>
                <permission>Write</permission>
                <permission>Delete</permission>
                <permission>Create Content</permission>
                <permission>Create Folder</permission>
                <permission>Publish</permission>
            </allowed-permissions>
        </rule>
        <rule regex="~DASHBOARD~">
            <allowed-permissions>
                <permission>Publish</permission>
            </allowed-permissions>
        </rule>
    </role>
    <role name="developer">
        <rule regex="/.*">
            <allowed-permissions>
                <permission>Read</permission>
                <permission>Write</permission>
                <permission>Publish</permission>
                <permission>Create Folder</permission>
                <permission>Create Content</permission>
                <permission>Change Content Type</permission>
            </allowed-permissions>
        </rule>
        <rule regex="^/(?!site/website/index\.xml)(.*)">
            <allowed-permissions>
                <permission>Delete</permission>
            </allowed-permissions>
        </rule>
        <rule regex="~DASHBOARD~">
            <allowed-permissions>
                <permission>Publish</permission>
            </allowed-permissions>
        </rule>
    </role>
    <role name="admin">
        <rule regex="/.*">
            <allowed-permissions>
                <permission>Read</permission>
                <permission>Write</permission>
                <permission>Publish</permission>
                <permission>Create Folder</permission>
                <permission>Create Content</permission>
                <permission>Change Content Type</permission>
            </allowed-permissions>
        </rule>
        <rule regex="^/(?!site/website/index\.xml)(.*)">
            <allowed-permissions>
                <permission>Delete</permission>
            </allowed-permissions>
        </rule>
        <rule regex="~DASHBOARD~">
            <allowed-permissions>
                <permission>Publish</permission>
            </allowed-permissions>
        </rule>
    </role>
    <role name="reviewer">
        <rule regex="/.*">
            <allowed-permissions>
                <permission>Read</permission>
                <permission>Publish</permission>
            </allowed-permissions>
        </rule>
        <rule regex="~DASHBOARD~">
            <allowed-permissions>
                <permission>Publish</permission>
            </allowed-permissions>
        </rule>
    </role>
    <role name="*">
        <rule regex="/.*">
            <allowed-permissions>
                <permission>Read</permission>
            </allowed-permissions>
        </rule>
    </role>
</permissions>
